"use strict";(self["webpackChunkcsi_appstore"]=self["webpackChunkcsi_appstore"]||[]).push([[269],{3269:function(t,e,s){s.r(e),s.d(e,{default:function(){return I}});var i=s(3396);const r={class:"container"},o=(0,i._)("h1",{class:"title"},"AppStore - Upload Screenshots",-1),n={id:"screenshotsContent",class:"slideWrap"};function l(t,e,s,l,a,d){const h=(0,i.up)("Swiper");return(0,i.wg)(),(0,i.iD)("div",r,[o,(0,i._)("div",n,[(0,i.Wm)(h,{state:"edit"})])])}var a=s(7139),d=s(9242);const h={class:"slide"},p={class:"slide-header"},c=(0,i._)("p",null,"應用程式擷取畫面",-1),g=["onDragstart","onDragenter"],u=["src"],f=["onClick"],w={for:"upload",class:"uploadBtn"},m=(0,i._)("span",null,"+",-1);function _(t,e,s,r,o,n){return(0,i.wg)(),(0,i.iD)("div",h,[(0,i._)("div",p,[c,(0,i._)("p",null,(0,a.zw)(`${o.photos.length} / 6`),1)]),(0,i.Wm)(d.W3,{name:"slideDrag",tag:"ul",class:"slide-body",ref:"slideBody"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.photos,((t,e)=>((0,i.wg)(),(0,i.iD)("li",{key:t.locationPath,class:"slide-item",style:(0,a.j5)({width:`${n.slideWidth}px`,height:`${o.slideHeight}px`}),draggable:"true",onDragstart:t=>n.dragstart(e),onDragenter:t=>n.dragenter(e)},[(0,i._)("img",{src:t.locationPath,alt:"TEST"},null,8,u),(0,i._)("button",{onClick:t=>n.deleteImg(e)},"X",8,f)],44,g)))),128))])),_:1},512),(0,i._)("label",w,[(0,i._)("input",{type:"file",id:"upload",accept:"image/*",multiple:"",ref:"uploadScreenshot",onChange:e[0]||(e[0]=(...t)=>n.uploadScreenshot&&n.uploadScreenshot(...t))},null,544),m])])}s(7658);var S={props:{state:{type:String,required:!0,default:"view"}},data(){return{slideHeight:0,photos:[],dragIndex:""}},mounted(){this.slideHeight=this.$refs.slideBody.$el.offsetHeight},computed:{slideWidth(){return Number((this.slideHeight/16*9).toFixed(0))}},methods:{uploadScreenshot(){const t=Array.from(this.$refs.uploadScreenshot.files);this.photos.length>=6?this.sweetAlert("warning","圖片空間已達上限 6 張"):t.length>6||this.photos.length+t.length>6?this.sweetAlert("warning","上傳數量超過 6 張"):t.forEach((t=>{this.photos.push({locationPath:URL.createObjectURL(t)}),this.photosLength+=1}))},deleteImg(t){this.photos.splice(t,1)},sweetAlert(t,e){this.$swal.fire({icon:t,text:e})},dragstart(t){this.dragIndex=t},dragenter(t){if(this.dragIndex!==t){const e=this.photos[this.dragIndex];this.photos.splice(this.dragIndex,1),this.photos.splice(t,0,e),this.dragIndex=t}}}},v=s(89);const x=(0,v.Z)(S,[["render",_]]);var D=x,b={components:{Swiper:D},data(){return{}},methods:{}};const y=(0,v.Z)(b,[["render",l]]);var I=y}}]);
//# sourceMappingURL=269.e120d423.js.map